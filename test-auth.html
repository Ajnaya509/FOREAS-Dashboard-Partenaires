<!DOCTYPE html>
<html>
<head>
    <title>Test Auth FOREAS</title>
    <style>
        body { font-family: Arial; padding: 20px; background: #000; color: white; }
        button { padding: 10px; margin: 5px; cursor: pointer; }
        .success { color: #00ff00; }
        .error { color: #ff0000; }
    </style>
</head>
<body>
    <h1>Test Authentification FOREAS</h1>
    
    <h2>Actions:</h2>
    <button onclick="testLogin()">1. Test Login</button>
    <button onclick="checkAuth()">2. Check Auth Status</button>
    <button onclick="clearAuth()">3. Clear Auth</button>
    <button onclick="goToDashboard()">4. Go to Dashboard</button>
    
    <h2>R√©sultats:</h2>
    <div id="results"></div>
    
    <script>
        function log(message, type = 'info') {
            const results = document.getElementById('results');
            const color = type === 'success' ? '#00ff00' : type === 'error' ? '#ff0000' : '#ffffff';
            results.innerHTML += `<div style="color: ${color}">${new Date().toLocaleTimeString()}: ${message}</div>`;
        }
        
        function testLogin() {
            log('Testing login process...');
            try {
                localStorage.setItem('foreas_auth', 'true');
                log('‚úÖ localStorage.setItem successful', 'success');
                checkAuth();
            } catch(e) {
                log('‚ùå Error setting localStorage: ' + e.message, 'error');
            }
        }
        
        function checkAuth() {
            log('Checking auth status...');
            try {
                const authStatus = localStorage.getItem('foreas_auth');
                if (authStatus === 'true') {
                    log('‚úÖ Auth status: AUTHENTICATED', 'success');
                } else {
                    log(`‚ùå Auth status: NOT AUTHENTICATED (value: ${authStatus})`, 'error');
                }
            } catch(e) {
                log('‚ùå Error checking localStorage: ' + e.message, 'error');
            }
        }
        
        function clearAuth() {
            log('Clearing auth...');
            try {
                localStorage.removeItem('foreas_auth');
                log('‚úÖ Auth cleared', 'success');
                checkAuth();
            } catch(e) {
                log('‚ùå Error clearing localStorage: ' + e.message, 'error');
            }
        }
        
        function goToDashboard() {
            log('Redirecting to dashboard...');
            window.location.href = '/dashboard';
        }
        
        // Auto-check on load
        document.addEventListener('DOMContentLoaded', function() {
            log('üîÑ Page loaded, checking initial auth status...');
            checkAuth();
        });
    </script>
</body>
</html>